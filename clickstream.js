parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({1:[function(require,module,exports) {
!function(){"use strict";var t=function(t,e){this.d=top.document,this.w=top.window,this.transactionId=this.now(),this.conf=t||[],e=void 0===e||e;var n="https:"===this.d.location.protocol;this.domain=(n?"https:":"http:")+"//t.purch.com",!0===e&&this.init()};t.prototype={event:function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,void 0!==i):t.attachEvent&&t.attachEvent("on"+e,n)},deepExtend:function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]},uniqId:function(){return Math.abs(String((new Date).getTime()*Math.random()>>1)+Math.floor(1e4*Math.random())).toString(32)},now:function(){return(new Date).getTime()},init:function(){for(var t=0,e=this.conf.length;t<e;t++)for(var n=this.d.querySelectorAll(this.conf[t].targets||null),i=0,r=n.length;i<r;i++)this.process(this.conf[t],n[i])},initEvent:function(t,e){var n=this;this.event(e,t.eventName||"csevent",function(e){var i=n.getUrl(t,e.target||e.srcElement);n.put(i)},!0)},triggerEvent:function(t,e){var n=this.getUrl(e||{},t||this.d.body);return this.put(n)},put:function(t){if(!t)return!1;var e=new Image;return e.src=t,e},process:function(t,e,n){e.getAttribute&&e.getAttribute("href")&&(e.setAttribute("data-ohref",e.getAttribute("href")),e.setAttribute("href",this.getUrl(t,e,n))),!0===t.event&&this.initEvent(t,e)},mergedConfigs:function(t,e,n){var i=this.getElementConf(n),r={};return(e.d||i.d)&&(r.d=this.deepExtend({},e.d,i.d)),(e.p||i.p)&&(r.p=this.deepExtend({},e.p,i.p)),this.deepExtend(t,e,i,r)},getUrl:function(t,e,n){var i=this.mergedConfigs({domain:this.domain,etype:"catchall",uuid:this.uniqId(),sendAll:!1,transactionId:this.transactionId,visitor_id:this.getVisitorId()},t,e);i.el=e;var r=["etype::"+i.etype,"uuid::"+i.uuid,"visitor_id::"+i.visitor_id];if(!0===i.sendAll){var o=this.getKnownPatterns();for(var s in o)if(o.hasOwnProperty(s)&&"%visitor_id%"!==s.toLowerCase()){var a="function"==typeof o[s]?o[s].call(this,i):o[s],h=s.replace(new RegExp("%","gi"),"");r.push(h+"::"+a)}}if(i.url&&r.push("url::"+this.w.btoa(this.replacePatterns(i,n))),i.d)for(var c in i.d)i.d.hasOwnProperty(c)&&r.push(c+"::"+("function"==typeof i.d[c]?i.d[c].call(this,i):i.d[c]));return i.domain+"/"+this.w.btoa(this.replacePatterns({url:r.join("|"),p:i.p,separator:i.separator,el:e}))},getVisitorId:function(){var t;return this.w.ga&&(this.w.ga.getAll&&this.w.ga.getAll().length&&this.w.ga.getAll()[0].get&&(t="ga-"+this.w.ga.getAll()[0].get("clientId")),"function"==typeof this.w.ga&&this.w.ga(function(e){e&&e.get&&(t="ga-"+e.get("clientId"))})),this.w.Purch&&this.w.Purch.cs_data&&this.w.Purch.cs_data.VISITOR_ID||t||"visitor-%CB%"},getGaId:function(){if(this.w.ga){if(this.w.ga.getAll&&this.w.ga.getAll().length&&this.w.ga.getAll()[0].get)return"ga-"+this.w.ga.getAll()[0].get("clientId");"function"==typeof this.w.ga&&this.w.ga(function(t){if(t&&t.get)return"ga-"+t.get("clientId")})}},getRampId:function(){if(this.w.Purch&&this.w.Purch.cs_data&&this.w.Purch.cs_data.VISITOR_ID)return this.w.Purch.cs_data.VISITOR_ID},getLocation:function(){return this.w.location},getCookies:function(){return this.d.cookie},getKnownUrl:function(){var t=this.getLocation(),e=this.d.querySelector('[rel="canonical"]');return e?e.getAttribute("href"):t.href},getKnownPatterns:function(){var t=this,e={"%CB%":function(){return t.now()},"%SITE%":this.getLocation().hostname,"%URL%":this.getKnownUrl(),"%GAID%":this.getGaId(),"%RAMPID%":this.getRampId(),"%COOKIES%":this.getCookies(),"%transactionId%":this.transactionId};if(this.w.Purch&&this.w.Purch.cs_data)for(var n in this.w.Purch.cs_data)this.w.Purch.cs_data.hasOwnProperty(n)&&(e["%"+n.toString().toUpperCase()+"%"]=this.w.Purch.cs_data[n]);return e},replacePatterns:function(t,e){var n=this.getKnownPatterns(),i=[t.url],r=t.separator||"?";t.pre&&t.pre.join&&i.splice(0,0,t.pre.join(r)),t.suf&&t.suf.join&&i.push(t.suf.join(r)),i=i.join(r);var o=t.p||{},s=this.deepExtend({},n,o);for(var a in s)s.hasOwnProperty(a)&&(i.match(new RegExp(a,"gi"))||i.indexOf(a)>=0)&&(i=i.replace(new RegExp(a,"gi"),"function"==typeof s[a]?s[a].call(this,t):s[a]));return i},getElementConf:function(t){var e=(t&&t.getAttribute("data-pe")||"{}").replace(/\'/g,'"');return JSON.parse(e)||{}}};var e=function(e){this.conf=this.deepExtend({},{providers:["amazon.com"],separator:"?",pathLimit:5,init:!0},e),t.call(this,this.conf,this.conf.init)};(e.prototype=Object.create(t.prototype)).constructor=e,e.prototype.init=function(){var t=this;this.event(this.d.body,"mouseover",function(e){t.checkElement(e)}),this.event(this.d.body,"touchstart",function(e){t.checkElement(e)})},e.prototype.getElement=function(t){var e=t.target||t.srcElement;if("a"===e.tagName.toLowerCase())return e;for(var n=t.path||this.getPath(e),i=n.length>=this.conf.pathLimit?this.conf.pathLimit:n.length,r=0;r<i;r++)n[r].tagName&&"a"===n[r].tagName.toLowerCase()&&(e=n[r]);return e},e.prototype.getPath=function(t){for(var e=[],n=t,i=0;i<this.conf.pathLimit&&n!==document.body;)e.push(n),n=n.parentNode,i++;return e},e.prototype.hasTag=function(t,e){var n=this.conf.separator||"?";return(e=(e=(e=e.split(n)).length>1?e[1].split("&"):e[0].split("&")).length>1?e[1].split("="):e[0].split("=")).some(function(e){return t.indexOf(e)>=0})},e.prototype.parseUrl=function(t){var e=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/\n\?]+)/.exec(t);return e&&e.length>1?e[1]:""},e.prototype.isWhiteListed=function(t){return this.checkUrlPatterns(t)||this.conf.providers.indexOf(this.parseUrl(t))>=0},e.prototype.checkUrlPatterns=function(t){if(this.conf.urlPatterns){if("string"==typeof this.conf.urlPatterns)return 0===t.indexOf(this.conf.urlPatterns);for(var e=0;e<this.conf.urlPatterns.length;++e)if(0===t.indexOf(this.conf.urlPatterns[e]))return!0;return!1}return!1},e.prototype.checkElement=function(t){var e=this.getElement(t);if(e&&"a"===e.tagName.toLowerCase()&&this.isWhiteListed(e.getAttribute("href")||"")&&this.canDiscoverElement(e)){var n=e.getAttribute("href");return this.hasTag(n,this.conf.pre?this.conf.pre.join("&"):"notag")||this.hasTag(n,this.conf.suf?this.conf.suf.join("&"):"notag")?this.process(this.conf,e,!1):this.process(this.conf,e),!0}return!1},e.prototype.getElementConf=function(e){var n=t.prototype.getElementConf.call(this,e);return n.url=e&&e.getAttribute&&e.getAttribute("href"),n},e.prototype.canDiscoverElement=function(t){var e=!0,n=this.conf.noDiscoverSelector;if(!n)return e;for(var i=this.d.querySelectorAll(n),r=0;r<i.length;r++)i[r]===t&&(e=!1);return e},window.Purch=window.Purch||{},window.Purch.LOE=t,window.Purch.Discovery=e}();
},{}]},{},[1])